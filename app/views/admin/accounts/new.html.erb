<div class="max-w-xl mx-auto px-2">
  <div class="mb-4">
    <%= link_to admin_accounts_path, class: 'flex items-center space-x-1 text-neutral font-medium' do %>
      <%= svg_icon('arrow_left', class: 'w-4 h-4 stroke-2') %>
      <span>Back to accounts</span>
    <% end %>
  </div>

  <h1 class="text-4xl font-bold text-center my-8">Add Company</h1>

  <%= form_for @account, url: admin_accounts_path, html: { class: 'space-y-6' } do |f| %>
    <div class="space-y-2">
      <div class="form-control">
        <%= f.label :name, 'Company Name', class: 'label' %>
        <%= f.text_field :name, required: true, class: 'base-input' %>
      </div>
      <%= fields_for @user do |ff| %>
        <div class="grid gap-2 md:grid-cols-2 md:gap-4">
          <div class="form-control">
            <%= ff.label :first_name, t('first_name'), class: 'label' %>
            <%= ff.text_field :first_name, required: true, class: 'base-input' %>
          </div>
          <div class="form-control">
            <%= ff.label :last_name, t('last_name'), class: 'label' %>
            <%= ff.text_field :last_name, required: true, class: 'base-input' %>
          </div>
        </div>
        <div class="form-control">
          <%= ff.label :email, 'Admin Email', class: 'label' %>
          <%= ff.email_field :email, required: true, class: 'base-input' %>
        </div>
        <div class="form-control">
          <%= ff.label :password, t('password'), class: 'label' %>
          <password-input class="block relative">
            <%= ff.password_field :password, required: true, placeholder: '************', class: 'base-input w-full pr-10', data: { target: 'password-input.passwordInput' } %>
            <button data-target="password-input.togglePasswordVisibility" type="button" class="absolute inset-y-0 h-12 right-0 pr-3 flex items-center">
              <span data-target="password-input.hiddenPasswordIcon">
                <%= svg_icon('eye', class: 'w-6 h-6 shrink-0 bg-white') %>
              </span>
              <span data-target="password-input.visiblePasswordIcon" class="hidden">
                <%= svg_icon('eye_off', class: 'w-6 h-6 shrink-0 bg-white') %>
              </span>
            </button>
          </password-input>
        </div>
      <% end %>
    </div>
    <% if @account.errors.any? %>
      <div class="alert alert-error">
        <ul>
          <% @account.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>
    <% if @user.errors.any? %>
      <div class="alert alert-error">
        <ul>
          <% @user.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>
    <div class="form-control">
      <%= f.button button_title(title: 'Create Account'), class: 'base-button' %>
    </div>
  <% end %>
</div>
